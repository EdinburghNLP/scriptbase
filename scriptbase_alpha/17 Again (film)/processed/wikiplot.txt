In 1989, 17 year-old Mike O'Donnell (Zac Efron) learns from his girlfriend Scarlet Porter (Allison Miller) that she is pregnant during the start of his high school championship basketball game.
Moments after the game begins, he leaves the game and goes after Scarlet, abandoning his hopes of going to college and becoming a professional basketball player.

In 2009, Mike (Matthew Perry), now 37 years old, finds his life stalled.
Scarlet (Leslie Mann) has separated from him due to his regrets about abandoning college, forcing him to move in with his geeky and wealthy best friend since high school, Ned Gold (Thomas Lennon).
At his job, we see another reason for his frustration: due to his lack of higher education and since he is significantly older than most of his co-workers, he is passed over for a promotion he deserves in favor of a much younger worker.
He gets fired from his job and his high school-age children, Maggie (Michelle Trachtenberg) and Alex (Sterling Knight) want nothing to do with him.
Later, while visiting his high school to reminisce, an encounter with a mysterious janitor (Brian Doyle-Murray) transforms Mike into his 17 year-old self.

Given the chance to re-live his youth, Mike enrolls in high school posing as Mark Gold, Ned's son, and plans to go to college with a basketball scholarship.
As he befriends his children, however, Mike comes to believe that his mission is to help them.
Mike comforts Maggie when her boyfriend Stan (Hunter Parrish), the captain of the basketball team, dumps her.
With his help, Alex overcomes Stan's bullying to obtain a place with Mike on the basketball team and the girlfriend he desires.

Through their children Mike spends time with Scarlet, who is attracted to his remarkable resemblance to her husband in high school.
Mike has difficulty resisting his desire for her despite the relationship's clear inappropriateness.
At the same time, he must fend off Maggie's amorous advances.

Mike soon realizes that Scarlet is the "best decision" he had ever made and finally realizes that his own selfishness has driven his family away.
He tries to re-unite with her and unsuccessfully explains to her that he is actually Mike, her husband.
On the day of the court hearing to finalize Scarlet and Mike's divorce, Mike makes one last attempt to win her back (as Mark) by reading a supposed letter from Mike.
He states that although he couldn't set things right in the beginning of his life, it doesn't extinguish the fact that he still loves her.
After he exits, Scarlet notices that the "letter" is actually the directions to the courtroom and she begins to grow curious.
As a result, she postpones the divorce.
During a high school basketball game, Mike reveals himself to Scarlet.
As Scarlet once again runs away down the hall, Mike decides to chase her down once more, but not before handing the ball off to his son.
Mike is then transformed back into his 37 year-old self, reunites with Scarlet, and is hired as the high school's new basketball coach.